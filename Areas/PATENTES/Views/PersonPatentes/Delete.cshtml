@using SYGESTMunicipal.Utility
@model SYGESTMunicipal.Areas.PATENTES.Models.PersonPatentes
@{
    ViewData["Title"] = "Delete";
    Layout = "~/Views/Shared/_LayoutPATENTES.cshtml";
}

@if (User.IsInRole(SD.ManagerUser) || User.IsInRole(SD.AdminOFPA))
{
    <!--main content start-->
    <section id="main-content">
        <section class="wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <h3 class="page-header"><i class="fa fa-files-o"></i> Registro de Persona Patente</h3>
                    <ol class="breadcrumb">

                        <li class="nav-item">
                            <i class="fa fa-th"></i>
                            <a class="nav-link" asp-area="PATENTES" asp-controller="PersonPatentes" asp-action="Index">Persona Patentes</a>
                        </li>
                        <li><i class="fa fa-files-o"></i>Formulario</li>
                    </ol>
                </div>
            </div>

            <!-- Form validations -->
            <div class="row">
                <div class="col-lg-12">
                    <section class="panel">
                        <header class="panel-heading">
                            Formulario
                        </header>
                        <div class="panel-body">
                            <div class="form">

                                <h2 class="text-info">Eliminar Registro de Persona</h2>
                                <br />
                                <form method="post" asp-action="Delete" id="viewEliminar">
                                    <div class="border backgroundWhite">
                                        <div asp-validation.summary="ModelOnly" class="text-danger"></div>
                                        <br>

                                        <br>
                                        @*Cedula*@
                                        <div class=" form-group row">
                                            <label asp-for="PersonId" class="col-form-label col-lg-2">Cédula o Pasaporte</label>
                                            <div class="col-lg-9">
                                                <input asp-for="PersonId" readonly class="form-control" minlength="5" type="text" />
                                            </div>

                                        </div>

                                        @*Nombre*@
                                        <div class=" form-group row">
                                            <label asp-for="Name" class="col-form-label col-lg-2">Nombre</label>
                                            <div class="col-lg-9">
                                                <input asp-for="Name" readonly class="form-control" />
                                            </div>


                                        </div>
                                        <div class="form-group row">
                                            <div class="col-md-5 colo-lg-4 text-right">
                                                <input onclick="abrirModal()" type="submit" value="Eliminar" id="btnEliminar"
                                                       class="btn btn-danger" @*style="width: 80%;"*@
                                                       asp-route-id="@Model" />
                                            </div>
                                            <br />
                                            <br />
                                            <br />
                                            <div class="col-md-5">
                                                <a asp-action="Index" type="button"
                                                   class="btn btn-success">Regresar </a>
                                            </div>
                                        </div>

                                    </div>
                                </form>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
            <!-- page end-->
        </section>
    </section>
    <!--main content end-->
}

<script src="~/js/sweetalert2.js"></script>
<script src="~/js/Utilitarios.js"></script>
<script>
    function abrirModal() {
        verModal('Eliminar Persona', '¿Desea Eliminar Esta Persona?').then((result) => {
            if (result.value) {
                var viewEliminar = document.getElementById("viewEliminar");
                viewEliminar.submit();
                Swal.fire(
                    'Eliminado!',
                    'La persona fue eliminada!.',
                    'success'
                )
            }
            else if (result.dismiss === Swal.DismissReason.cancel) {
                Swal.fire(
                    'Cancelado',
                    'La persona no ha sido eliminada!!!:)',
                    'error'
                )
            }
        })
    }
</script>